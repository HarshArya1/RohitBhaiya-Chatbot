<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat with Rohit Negi Bhaiya</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to right, #8e2de2, #4a00e0);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
            overflow: hidden;
        }

        .container {
            width: 70vw; /* Chat width 70% of viewport */
            height: 100vh;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            position: relative;
        }

        .chat-header {
            background-color: #6200ea;
            color: white;
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            flex-shrink: 0;
            display: flex;
            align-items: center; /* Vertically align items */
        }

        .header-dp {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ddd; /* Grey background for default DP */
            display: flex;
            justify-content: center;
            align-items: center;
            color: #888;
            font-size: 1.5em;
            margin-right: 10px;
            border: 2px solid white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .header-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #f0f0f0;
            margin-bottom: 3px;
        }

        .header-status {
            font-size: 0.8em;
            opacity: 0.8;
            color: #28f766;
            font-weight: bold;
        }

        .animation-area {
            width: 15vw;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            pointer-events: none;
            position: absolute;
            top: 0;
            z-index: 50;
        }

        .left-animation {
            left: -15vw;
        }

        .right-animation {
            right: -15vw;
        }

        .emoji {
            font-size: 2em;
            animation: fall linear infinite;
            opacity: 0;
            position: absolute;
            white-space: nowrap;
        }

        @keyframes fall {
            0% {
                top: -100px;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            80% {
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        .chat-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }

        .chat-messages {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            scroll-behavior: smooth;
        }

        .message {
            padding: 12px 18px;
            border-radius: 20px;
            margin-bottom: 15px;
            clear: both;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background-color: #DCF8C6;
            float: right;
            align-self: flex-end;
            color: #075E54;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
        }

        .bot-message {
            background-color: #ECE5DD;
            float: left;
            align-self: flex-start;
            color: #000;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
        }

        .chat-input {
            padding: 15px;
            background-color: #f0f0f0;
            border-top: 1px solid #ddd;
            display: flex;
            flex-shrink: 0;
        }

        .chat-input input {
            flex-grow: 1;
            padding: 12px;
            border: none;
            border-radius: 25px;
            margin-right: 10px;
            font-size: 1em;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
            outline: none;
        }

        .chat-input button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .chat-input button:hover {
            background-color: #388E3C;
        }

        @media (max-width: 768px) {
            .container {
                width: 100vw;
            }

            .animation-area {
                display: none;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="animation-area left-animation">
        </div>

        <div class="chat-content">
            <div class="chat-header">
                <div class="header-dp">
                    <span style="font-style: italic;">RN</span>
                </div>
                <div class="header-content">
                    <div class="header-name">Rohit Negi Bhaiya</div>
                    <div class="header-status">Online</div>
                </div>
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be displayed here -->
            </div>
            <div class="chat-input">
                <input type="text" id="message-input" placeholder="Type your message...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>

        <div class="animation-area right-animation">
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const messageInput = document.getElementById('message-input');
        const leftAnimationArea = document.querySelector('.left-animation');
        const rightAnimationArea = document.querySelector('.right-animation');
        const apiKey = 'AIzaSyDeGsIw-3lf5oG8Pt_8lpKnbVMnd6BmjIs'; // Replace with your actual API 

        // Emoji sets
        const studyEmojis = ['üìö', '‚úèÔ∏è', 'üí°', 'üî¨', 'üíª', 'üß†'];

        // Function to create and animate emojis
        function createFallingEmoji(area) {
            const emoji = document.createElement('div');
            emoji.classList.add('emoji');
            emoji.textContent = studyEmojis[Math.floor(Math.random() * studyEmojis.length)];
            area.appendChild(emoji);

            // Randomize animation properties
            const animationDuration = Math.random() * 5 + 3; // 3-8 seconds
            const animationDelay = Math.random() * 2; // Up to 2 seconds delay
            const startPosition = Math.random() * 80; // Random horizontal start

            emoji.style.left = `${startPosition}%`;
            emoji.style.animationDuration = `${animationDuration}s`;
            emoji.style.animationDelay = `${animationDelay}s`;

            // Remove emoji after animation completes
            emoji.addEventListener('animationiteration', () => {
                emoji.remove();
                createFallingEmoji(area); // Create a new one
            });

            return emoji;
        }

        // Initialize animations
        function initializeAnimations() {
            // Left Animation
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFallingEmoji(leftAnimationArea);
                }, i * 500); // Staggered start
            }

            // Right Animation
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFallingEmoji(rightAnimationArea);
                }, i * 500); // Staggered start
            }
        }

        function addMessage(message, isUser) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function sendMessage() {
            const messageText = messageInput.value.trim();
            if (!messageText) return;

            addMessage(messageText, true);
            messageInput.value = '';

            // Call the Gemini API using curl
            try {
                const response = await fetchGeminiAPI(messageText);
                addMessage(response, false);
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                addMessage("Sorry, I'm having trouble connecting right now.", false);
            }
        }

        async function fetchGeminiAPI(message) {
            const url = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent";
            const systemInstruction = `You are Rohit Negi Bhaiya, founder of CoderArmy, known for your humble guidance, patient teaching, and consistent motivation. You mentor students in Full-Stack Web Development, Blockchain, and Generative AI. You‚Äôve previously taught DSA, and you currently lead the Nexus batch with quality content and solid doubt-clearing support. Your communication is a mix of helpful teaching and focused discipline, mostly using Hindi-English blend (Hinglish).

üë®‚Äçüè´ Teaching Persona
You speak primarily in Hindi mixed with English, but retain professionalism.

Your tone is desi, grounded, encouraging‚Äîwith occasional sass when students ask silly questions.

You are patient, motivational, and believe in practical learning.

You frequently use phrases like:

‚ÄúChamka?‚Äù

‚ÄúHaan ji, samajh gaye‚Äù

‚ÄúLevel up bhai‚Äù

‚ÄúStay focused, consistency is the key to success ‚ù§Ô∏è‚Äù

‚ÄúYour time is my fees‚Äù

‚ÄúKya bhai, Lallu sa sawaal puch rahe ho?‚Äù

You refer to boys as ‚Äúbhai‚Äù and girls as ‚Äúsister.‚Äù

üí¨ Communication Style
Respond with 20‚Äì30 words max during casual/gup-shup chats.

Avoid unnecessary small talk; always steer conversation back to study.

React to non-study or silly questions with a short, playful roast, then pivot to learning.

Don‚Äôt entertain time-wasting behavior; remind students this is time for ‚Äúhard work & consistency.‚Äù

Express care using ‚ù§Ô∏è and gym inspiration, referring to your daily fitness grind and love for Virat Kohli.

üìö Teaching Approach
Solve doubts in simple, clear language.

Use real-world analogies, especially from food, cricket, gym, or desi life.

Highlight key concepts with quick checkpoints like:

‚ÄúChamka?‚Äù or ‚ÄúYeh hota hai real-world me‚Äù

Encourage students constantly, especially when they feel low.

End motivational pep talks with energetic catchphrases and heart emojis.

üõ°Ô∏è Personality Traits
Trait	Description
Desi Vibe:-	Grounded in Indian culture and daily reality
Strict Focus:-	Doesn‚Äôt entertain irrelevant distractions
Helpful & Humble:-	Treats genuine learners with patience
Sigma Mentor:-	Keeps responses efficient, motivating, and sharp
Foodie Flair:-	Loves delicious food, occasionally references it
Fitness Guy	Gym is part of the identity; promotes health
`;
            
            const data = {
                "contents": [
                    {
                        "parts": [
                            {
                                "text": systemInstruction + " User Query: " + message
                            }
                        ]
                    }
                ]
            };

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-goog-api-key': apiKey
                    },
                    body: JSON.stringify(data)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const responseData = await response.json();
                console.log("Gemini API Response:", responseData);

                const botMessage = responseData.candidates[0].content.parts[0].text;
                return botMessage;
            } catch (error) {
                console.error("Error calling Gemini API:", error);
                return "Sorry, I'm having trouble connecting right now.", false;
            }
        }


        // Initialize
        initializeAnimations();
    </script>
</body>

</html>